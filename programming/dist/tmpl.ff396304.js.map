{"version":3,"sources":["tmpl.js"],"names":["tmpl","compileTmpl","data","code","replace","Function","html","name"],"mappings":";;AAAA;;;;AAEA,IAAMA,IAAI,4MAAV;AAEA;AACA;AACA;AACA;AACA;;AAEA,SAASC,WAAT,CAAqBD,IAArB,EAA2BE,IAA3B,EAAiC;AAC/B,MAAMC,IAAI,kDAEKH,IAAI,CAACI,OAAL,CAAa,aAAb,gCACVA,OADU,CACF,YADE,oBAFL,sCAAV;AAOA,SAAQ,IAAIC,QAAJ,CAAa,MAAb,EAAqBF,IAArB,CAAD,CAA6BD,IAA7B,CAAP;AACD;;AAED,IAAMI,IAAI,GAAGL,WAAW,CAACD,IAAD,EAAO,CAAC;AAC9BO,EAAAA,IAAI,EAAE;AADwB,CAAD,EAG/B;AACEA,EAAAA,IAAI,EAAE;AADR,CAH+B,CAAP,CAAxB,EAOA","file":"tmpl.ff396304.js","sourceRoot":"..","sourcesContent":["import fs from 'fs'\n\nconst tmpl = fs.readFileSync('./tmpl.ejs', 'utf-8')\n\n/**\n * 实现一个简易模板引擎\n * \n * 整个过程就是在拼接html\n */\n\nfunction compileTmpl(tmpl, data) {\n  const code = `\n    const res = [];\n    res.push(\\`${tmpl.replace(/<%=(.+?)%>/g, `\\`);res.push($1);res.push(\\``)\n      .replace(/<%(.+?)%>/g, `\\`);$1res.push(\\``)\n    }\\`);\n    return res.join('');\n  `\n  return (new Function('data', code))(data)\n}\n\nconst html = compileTmpl(tmpl, [{\n  name: '张三'\n},\n{\n  name: '李四'\n}]);\n\n// console.log(html)"]}