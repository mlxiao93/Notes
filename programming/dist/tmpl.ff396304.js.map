{"version":3,"sources":["tmpl.js"],"names":["input","tmpl","data","code","replace","console","log","Function","html","name"],"mappings":";;AAAA;;;;AAEA,IAAMA,KAAK,4MAAX;AAEA;AACA;AACA;AACA;AACA;;AACA,SAASC,IAAT,CAAcD,KAAd,EAAqBE,IAArB,EAA2B;AACzB,MAAIC,IAAI,uBAAR;AAEAA,EAAAA,IAAI,2BACFH,KAAK,CAACI,OAAN,CAAc,aAAd,EAA6B,oCAA7B,EACGA,OADH,CACW,YADX,EACyB,sBADzB,CADE,QAAJ;AAKAD,EAAAA,IAAI,6BAAJ;AAEAE,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AAEA,SAAO,IAAII,QAAJ,CAAa,MAAb,EAAqBJ,IAArB,EAA2BD,IAA3B,CAAP;AACD;;AAED,IAAMM,IAAI,GAAGP,IAAI,CAACD,KAAD,EAAQ,CAAC;AACxBS,EAAAA,IAAI,EAAE;AADkB,CAAD,EAGzB;AACEA,EAAAA,IAAI,EAAE;AADR,CAHyB,CAAR,CAAjB;AAOAJ,OAAO,CAACC,GAAR,CAAYE,IAAZ","file":"tmpl.ff396304.js","sourceRoot":"..","sourcesContent":["import fs from 'fs'\n\nconst input = fs.readFileSync('./tmpl.ejs', 'utf-8')\n\n/**\n * 实现一个简易模板引擎\n * \n * 整个过程就是在拼接html\n */\nfunction tmpl(input, data) {\n  let code = `const result = [];`;\n\n  code += `result.push(\\`${\n    input.replace(/<%=(.+?)%>/g, '`); result.push($1); result.push(`')\n      .replace(/<%(.+?)%>/g, '`); $1 result.push(`')\n  }\\`);` \n\n  code += `return result.join('');`;\n\n  console.log(code);\n\n  return new Function('data', code)(data);\n}\n\nconst html = tmpl(input, [{\n  name: '张三'\n},\n{\n  name: '李四'\n}]);\n\nconsole.log(html)"]}